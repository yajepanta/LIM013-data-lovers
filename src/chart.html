<html>
<body>
    <canvas id="chart" width="400" height="700"></canvas>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js"></script>

    <script type="module">

        import * as DataFunctions from './data.js';
        import data from './data/pokemon/pokemon.js';

        const pokemonDataConst = data.pokemon;
        const totalTypes = pokemonDataConst.map(item => item.type);
        const grass = totalTypes.filter(x => x.includes("grass"));
        const ghost = totalTypes.filter(x => x.includes("ghost"));
        const poison = totalTypes.filter(x => x.includes("poison"));
        const flying = totalTypes.filter(x => x.includes("flying"));
        const rock = totalTypes.filter(x => x.includes("rock"));
        const fighting = totalTypes.filter(x => x.includes("fighting"));
        const ground = totalTypes.filter(x => x.includes("ground"));
        const bug = totalTypes.filter(x => x.includes("bug"));
        const steel = totalTypes.filter(x => x.includes("steel"));
        const fire = totalTypes.filter(x => x.includes("fire"));
        const water = totalTypes.filter(x => x.includes("water"));
        const electric = totalTypes.filter(x => x.includes("electric"));
        const psychic = totalTypes.filter(x => x.includes("psychic"));
        const ice = totalTypes.filter(x => x.includes("ice"));
        const dragon = totalTypes.filter(x => x.includes("dragon"));
        const fairy = totalTypes.filter(x => x.includes("fairy"));
        const dark = totalTypes.filter(x => x.includes("dark"));
        const normal = totalTypes.filter(x => x.includes("normal"));


function statisticsTypes(ctx) {
        const chart  = new Chart (ctx, {
            type: "horizontalBar",
            data: {
                labels: ["TYPES"],
                datasets: [
                    {               
                    label:"Grass",
                    backgroundColor: "green",
                    data: [grass.length],
                },
                {
                    label:"Ghost",
                    backgroundColor: "black",
                    data: [ghost.length],
                },
                {
                    label:"Poison",
                    backgroundColor: "firebrick",
                    data: [poison.length],
                },
                {
                    label:"Flying",
                    backgroundColor: "coral",
                    data: [flying.length],
                },
                {
                    label:"Rock",
                    backgroundColor: "gray",
                    data: [rock.length],
                },
                {
                    label:"Fighting",
                    backgroundColor: "indigo",
                    data: [fighting.length],
                },

                {
                    label:"Ground",
                    backgroundColor: "saddlebrown",
                    data: [ground.length],
                },
                {
                    label:"Bug",
                    backgroundColor: "khaki",
                    data: [bug.length],
                },
                {
                    label:"Steel",
                    backgroundColor: "darkgray",
                    data: [steel.length],
                },
                {
                    label:"Fire",
                    backgroundColor: "orangered",
                    data: [fire.length],
                },
                {
                    label:"Water",
                    backgroundColor: "skyblue",
                    data: [water.length],
                },
                {
                    label:"Electric",
                    backgroundColor: "gold",
                    data: [electric.length],
                },
                {
                    label:"Psychic",
                    backgroundColor: "chocolate",
                    data: [psychic.length],
                },
                {
                    label:"Ice",
                    backgroundColor: "turquoise",
                    data: [ice.length],
                },
                {
                    label:"Dragon",
                    backgroundColor: "brown",
                    data: [dragon.length],
                },
                {
                    label:"Fairy",
                    backgroundColor: "hotpink",
                    data: [fairy.length],
                },
                {
                    label:"Dark",
                    backgroundColor: "royalblue",
                    data: [dark.length],
                },
                {
                    label:"Normal",
                    backgroundColor: "olive",
                    data: [normal.length],
                },
                ]
            }

        })

    }

function renderCharts(){
    const ctx = document.querySelector("#chart").getContext("2d")
    statisticsTypes(ctx)
}    

renderCharts()
</script>
</body>
</html>